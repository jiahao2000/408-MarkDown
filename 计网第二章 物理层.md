# 计算机网络

## 第二章 物理层

### 考纲内容

+ 通信基础
  + 信道 信号 带宽 码元 波特 速率 信源与信宿
  + 奈奎斯特定理与香农定理 编码与调制
  + 电路交换、报文交换与分组交换 数据报与虚电路
+ 传输介质
  + 双绞线 同轴电缆 光纤与无线传输介质 物理层接口的特性
+ 物理层设备
  + 中继器 集线器

***

#### 奈奎斯特采样定理
在理想低通（没有噪声、带宽有限）的信道中，为了避免码间串扰，极限码元传输速率为$2W$波特，其中$W$为理想低通信道的带宽。
若用$V$表示离散码元的个数，则极限传输数据率为
$$
2Wlog_2V(单位为bit/s)
$$
奈氏准则可以得出一下结论
1. 在任何信道中，码元的传输速率是有上限的。超过此速率，就会出现严重的码间串扰。
2. 信道的频带越宽，（即通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输。
3. 奈奎斯特采样定理给出了码元传输速率的限制，但未对信息传输速率给出限制，即没有限制一个码元可以对应几位二进制数。

#### 香农定理
香农定理给出了在带宽受限且有高斯白噪声干扰的信道的极限数据传输速率，当用此速率进行传输时，可以做到不产生误差。
$$
信道的极限数据传输速率 = Wlog_2(1+S/N) (bit/s)
$$
其中$W$为信道带宽，$S$为信道所传输信号的平均功率，$N$为信道内部的高斯噪声功率。
$$
信噪比 = 10log_{10}(S/N)
$$
香农定理既考虑到了带宽也考虑到了信噪比，这说明，一个码元对应的二进制位数时有限的。


***

#### 编码与调制
##### 1.数字数据编码为数字信号
1. 归零编码(RZ)
2. 非归零编码(NRZ)
3. 反向归零编码(NRIZ)：信号翻转代表0、信号不变代表1
4. 曼彻斯特编码
5. 差分曼彻斯特编码
6. 4B/5B编码

##### 2.数字数据调制为模拟信号
1. 幅移键控(ASK)
2. 频移键控(FSK)
3. 相移键控(PSK)
4. 正交振幅调制(QAM)

##### 3.模拟数据编码为数字信号
1. 脉冲编码调制(PCM) 音频新高的脉冲编码调制

采样 量化 编码

##### 4.模拟数据调制为模拟信号
1. 频分复用(FDM)

***

#### 电路交换、报文交换与分组交换

##### 1.电路交换
双方建立专用的物理通信路径，直到通信结束后才释放
连接建立→数据传输→连接释放

从通信资源的分配角度来看，“交换”就是按照某种方式动态地分配传输线路的资源
###### 优点
+ 通信时延小
+ 有序传输
+ 没有冲突
+ 适用范围广
+ 实时性强
+ 控制简单
###### 缺点
+ 建立连接时间长
+ 线路独占
+ 灵活性差
+ 难以规格化：不同类型的终端很难进行通信，也难以进行差错控制

##### 2.报文交换
单位是报文，报文携带有目标地址、源地址等信息。报文交换结点采用的是存储转发的传输方式

###### 优点
+ 无需建立连接
+ 动态分配线路
+ 提高线路可靠性
+ 提高线路利用率
+ 提供多目标服务

###### 缺点
+ 会引起转发时延（包括接收报文、检验正确性、排队、发送时间等）
+ 报文交换对报文的大小没有限制，这就要求网络结点有较大的缓存空间

##### 3.分组交换
分组交换限制了每次传送的数据块大小的上限，把大的数据块划分为小的数据块，再加上一些必要的控制信息，构成分组(Packet)

###### 优点
+ 无建立时延
+ 线路利用率高
+ 简化了存储管理
+ 加速传输
+ 减少了出错概率和重发数据量

###### 缺点
+ 存在传输时延，虽然传输时延比报文交换的小，但相对电路交换仍存在存储转发时延，而且交换机必须具有更强的处理能力
+ 需要传输额外的信息量
+ 采用数据报服务时，可能出现失序、丢失或重复分组，分组到达目的结点时，要对分组进行排序
+ 采用虚电路服务时，虽无失序问题，但有呼叫建立、数据传输和虚电路释放三个过程


#### 数据报与虚电路

|服务| 数据报 | 虚电路 |
| --- | --- | --- |
| 建立连接 | 不需要 | 必须有 |
| 目的地址 | 每个分组都有完整的目的地址 | 仅在建立连接阶段适用，之后每个分组适用长度较短的虚电路号 |
| 路由选择 | 每个分组独立地进行路由选择和转发 | 属于同一条虚电路的分组按照同一路由转发 |
| 分组顺序 | 不保证分组的有序到达 | 保证分组有序到达 |
| 可靠性 | 不保证可靠通信，可靠性由用户主机来保证 | 可靠性由网络保证 |
| 对网络故障的实用性 | 出现故障的结点丢失分组，其他分组路径选择发生变化时可以正常传输 | 所有经过故障结点的虚电路均不能正常工作 |
| 差错处理和流量控制 | 由用户主机进行流量控制，不保证数据报的可靠性 | 可由分组交换网负责，也可以由用户主机负责 |

虚电路分为临时虚电路和永久虚电路


***

### 1.1
#### 一、

##### 3、
并行传输的特点：距离短 速度快
串行传输的特点：距离长 速度慢
在计算机内部应采用并行传输
同步、异步传输是通信方式 不是传输方式。

##### 4、
曼彻斯特编码位中间的跳变作为时钟信号 每个码元的电平作为数据信号
曼彻斯特编码适合传输二进制数字信号

##### 5、
差分曼彻斯特编码的每个码元中间都由一次电平的跳转，可以实现子同步、且抗干扰性较好

##### 6、
QAM是一种用模拟信号传输数字数据的编码方式。曼彻斯特编码和差分曼彻斯特编码都是用数字信号传输数字数据的编码方式。
**使用数字信号传输模拟数据的最常见的例子是用于音频信号的脉冲编码调制（PCM）**

##### 7、
将基带信号直接传送到通信线路（数字信道）上的传输方式称为基带传输，把基带信号经过调制后送到通信线路（模拟信道）上的传输方式称为频带传输。

##### 8、
波特率等于每秒可能发生的信号变化次数

##### 9、
以太网采用曼彻斯特编码，每位数据需要两个电平表示，即一个比特需要两个码元表示。

##### 20、
在报文交换中，交换的数据单元是报文。由于报文大小不固定，在交换结点中需要较大的存储空间，另外报文经过中间结点的接收、存储和转发时间较长而且也不固定，因此不能用于实时通信应用环境（如语音、视频等）。

##### 21、
以太网采用的是分组交换技术

##### 24、
电路交换不具备差错控制能力
使用虚电路时，如果系统中一台主机出错，所有需要经过这台主机的分组都不能正常到达，而数据报则不会出现这种情况

##### 25、
分组交换相对与报文交换减少了传输时延

##### 29、
虚电路包括临时性和永久性的，因此在会话结束时可能不释放连接
数据报服务不提供可靠传输，可靠性由用户主机来保证

##### 35、
10BaseT即10Mb/s的以太网，采用曼彻斯特编码。

##### 37、
信号的调制速率会直接影响信道数据传输速率
信号传播速率影响的是数据的传播速率

##### 41、
建立虚电路时不需要为每条虚电路预分配带宽

***

#### 传输介质
##### 双绞线
绞合可以减少对相邻导线的电磁干扰，为了进一步提高抗电磁干扰的能力，可以在双绞线外面再加上一层用金属丝编织的屏蔽层，这就是屏蔽双绞线(STP)。无屏蔽层的双绞线称为非屏蔽双绞线(UTP)
双绞线通信距离一般为几千米到数十千米。
距离太远时，对于模拟信号，需要要放大器放大衰减的信号；对于数字传输，要用中继器将失真的信号整形。

##### 同轴电缆
同轴电缆由内导体、绝缘层、网状编制屏蔽层、和塑料外层构成。
一般分为50Ω和75Ω，50Ω主要用于传送基带数字信号，又称基带同轴电缆，在局域网中应用广泛。75Ω主要用于传送宽带信号，又称宽带同轴电缆，主要用于有线电视系统。
同轴电缆具有良好的抗干扰特性，被广泛应用于传输较高速率的数据，其传输距离更远，但价格更贵。

##### 光纤
光纤主要由纤芯和包层组成，包层折射率较低。
光纤分为单模光纤和多模光纤
多模光纤利用光的全反射特性，光源为发光二极管，只适合于近距离传输
光纤的直径减小到只有一个光的波长是，光纤就像一根波导那样，可使光线一直向前传播，而不会产生多次反射，这样的光纤就是单模光纤。其光源为定向性很好的半导体激光器，因此单模光纤的衰减较小，适合远距离传输。
光纤的优点
+ 通信容量非常大
+ 传输损耗小，中继距离长，对远距离传输特别经济
+ 抗雷电和电磁干扰性能好
+ 无串音干扰，保密性好
+ 体积小，重量轻

##### 无线传输介质
###### 无线电波
无线电波使信号向所有方向传播
###### 微波、红外线和激光
用于高带宽的无线通信，都有很强的方向性、都沿直线传播
微波用于地面微波接力通信和卫星通信
***
#### 物理层接口特性
1. 机械特性：指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置等。
2. 电气特性：指明在接口电缆的各条线上出现的电压范围
3. 功能特性：指明某条线上出现的某一电平的电压表示何种意义
4. 过程特性：或称规程特性，指明对于不同功能的各种可能时间的出现顺序


***
#### 物理层设备
##### 中继器
中继器可以将将信号整形并放大再转发出去，以消除长距离传播导致的失真和衰减，其原理是**信号再生**，并不是简单的放大。
中继器有两个端口，端口仅作用于电气部分，不管是否有错误数据或不适于网段的数据
中继器工作在物理层，因此**不能连接两个具有不同速率的局域网**
中继器两端的网段一定要使用**同一个协议**
**5-4-3原则**：互相串联的中继器个数不能超过4个，而用4个中继器连接的5个网段中只有3个可以挂载计算机，其余两个只能用于扩展通信范围的链路段，不能挂载计算机。

##### 集线器(Hub)
实质上是一个多端口的中继器。
Hub会将接收到的信号整形放大，使之再生到发送时的状态，紧接着转发到除输入端口外的所有处于工作窗台的端口。
Hub不具备信号的定向传送能力，在网络中只起信号放大和转发的作用。也只能在半双工状态下工作。
多台计算机连接到Hub上时，会平分Hub的带宽

***
### 1.3
#### 一、
##### 3、
物理层进行互联时，数据链路层的协议可以不同
在物理层互联成功，只表明这两个网段之间可以互相传送物理层信号，但并不能保证可以互相传送数据链路层的帧。要达到在数据链路层互联互通的目的，则要求数据传输速率和数据链路层协议都相同。

***
#### 基带传输、频带传输和宽带传输
在计算机内部，可以不经过调制就在信道上直接进行的传输方式称为基带传输。
用数字信号对特定的频率的载波进行调制，将其变成适合与传统的信号后再进行传输，这种传输方式就是频带传输。
借助频带传输，可以将链路容量分解成两个或多个信道，每个信道可以携带不同的信号，这就是宽带传输。

#### 同步和异步

在网络编程中常提到的同步主要指某函数的执行方式。
在数据通信中，同步是指双方的时钟要调整到同一个频率。主要有两种方式：全网同步和准同步。同步通信数据率较高，但实现的代价也较高。
异步是指发送端可以在任意时刻开始发送字符，但必须在每个字符开始和结束的地方加上标志，即开始位和停止位。接收端必须时刻做好接收的准备。一部通信的通信设备简单、便宜，但传输效率较低（因为标志位占比例较大）。

***