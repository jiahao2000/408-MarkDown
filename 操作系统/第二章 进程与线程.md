# 进程与线程

### 进程的概念
为了使参与并发执行的每个程序(含数据)，都能独立地运行，必须为之配置一个专门的数据结构，称为**进程控制块**(Process Control Block,PCB)。系统利用PCB来描述进程的基本情况和运行状态，进而控制和管理进程。相应的，由程序段、相关数据段和PCB三部分构成了**进程实体**(又称进程映像)。
创建进程实质上是创建进程实体中的PCB，撤销进程，实质上是撤销进程的PCB。值得注意的是，进程实体是静态的，进程则是动态的。进程实体反映了进程在某一时刻的状态。

**PCB是进程存在的唯一标志**

从不同的角度，进程的定义是不同的，比较典型的定义有：
1. 进程是程序的一次执行
1. 进程是一个程序机器数据在处理机上顺序执行时所发生的活动
1. 进程时具有独立功能的程序在一个数据集合上的运行的过程，它是系统进行资源分配和电镀的一个独立单位。

引入进程实体的概念之后，我们可以给出如下定义：
**进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位**

### 进程的组成
+ PCB
    + 进程描述信息
    + 进程控制和管理信息
    + 资源分配清单
    + 处理机相关信息
+ 程序段
    + 程序的代码(指令序列)
+ 数据段
    + 运行过程中产生的各种数据(如：程序中定义的变量)


### 进程的特征
1. 动态性：进程最基本的特性
1. 并发性
1. 独立性：进程是能独立运行的、独立获得资源、独立接收调度的基本单位
1. 异步性：各进程以不可预知的速度向前推进，可能导致运行结果的不确定性
1. 结构性


### 进程的状态

1. 运行态：进程正在处理机上运行。在单处理机中，每个时刻只有一个进程处于运行态
1. 就绪态：进程获得了除处理机外的一切所需资源，一旦得到处理机，便可立即运行，系统中处于就绪态的进程可能有多个，通常将它们排成一个队列，称为就绪队列
1. 阻塞态：又称**等待态**，进程正在等待某一事件而暂停运行，如等待某资源为可用(不包括处理机)或等待输入/输出完成。即使处理机空闲，该进程也不能运行。系统通常将处于阻塞态的进程也排列成一个队列，甚至根据阻塞原因的不同，设置多个阻塞队列
1. 创建态：进程正在被创建，尚未转到就绪态。创建进程需要多个步骤：首先申请一个空白PCB，并向PCB中填写用于控制和管理进程的信息；然后为该进程分配运行时所必须的资源；最后把该进程转入就绪态并插入就绪队列。但是，如果进程所需的资源尚不能得到满足，如内存不足，则创建工作尚未完成，进程此时所处的状态称为创建态。
1. 结束态：进程正从系统中小时，可能是进程正常结束或其他原因停止运行。进程需要结束运行时，系统首先将该进程置为结束态，然后进一步处理资源释放和回收工作